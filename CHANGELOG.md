# CHANGELOG
## ⚠️以下仅列出主要更新记录，未列出全部 commit
|日期|版本|主要更新|
|----|---|-------|
|2023.4.21|0.1.0|文本生成时，取历史消息中 token 数不超过 `MAX_TOKEN_CONTEXT` 的消息作为上下文；重构 `ArticleManager`，对应配置文件改为 `articles.yml` 存放推文 URL 和 media id
|2023.4.20|0.1.0|引入 `FeatureManager` 实现对不同用户或用户等级开放 AI 服务特性；增加 `user/:openid/reset` 接口用于重置用户全部信息
|2023.4.18|0.1.0|使用 `redis` 服务持久化用户信息
|2023.4.17|0.1.0|加入 Self-ask 框架提示增强模块，赋予 GPT 使用搜索引擎的能力
|2023.4.14|0.1.0|重构 `VoicesManager`，接入 Azure TTS 接口合成语音用于回复消息；优化 `WolframService` 问题查询流程
|2023.4.13|0.1.0|更新支付配置
|2023.4.9|0.1.0|以图生图不限制风格
|2023.4.7|0.1.0|支持生成分享海报（基于微信用户信息）
|2023.4.6|0.1.0|实现公众号以图生图功能
|2023.4.4|0.1.0|利用 `openai` 的 `Moderation` 接口对输入内容进行审查|
|2023.3.27|0.1.0|开发 `WolframService` 服务模块实现数理类问题答案查询|
|2023.3.26|0.1.0|提供 `access-token/update` 接口用于推送 access token|
|2023.3.21|0.1.0|对回答中的代码单独一条消息回复，并提供沙箱测试链接|
|2023.3.20|0.1.0|开发 `MovieService` 服务模块实现电影信息查询；更新 API key 列表时自动重新加载服务模块|
|2023.3.19|0.1.0|开发 `ExchangeService` 服务模块实现汇率信息查询|
|2023.3.17|0.1.0|支持通过接口修改 `clash` 使用的配置|
|2023.3.16|0.1.0|开发 `PhoneService` 服务模块实现手机归属地和运营商信息查询、`IpService` 服务模块实现 IP 地址归属地信息查询、`WeatherService` 服务模块实现天气信息查询|
|2023.3.12|0.1.0|`revChatGPT` 作为后备手段|
|2023.3.11|0.1.0|用 `logging` 模块记录运行日志；开发 `ExpressService` 服务模块实现快递信息查询|
|2023.3.7|0.1.0|语音对话功能引入微软语音引擎|
|2023.3.6|0.1.0|引入语音对话功能（使用讯飞语音引擎）；弃用 `proxychains4` 全局代理，改用 `ALL_PROXY` 环境变量设置代理|
|2023.3.5|0.1.0|容器化改造，内置 `clash`；将 `*.yml` `*.json` 等数据文件放入 `data` 目录|
|2023.3.3|0.1.0|对微信的消息加解密方式切换为安全模式；创建 OpenAI API key 维护列表|
|2023.3.2|0.1.0|文本生成改用 OpenAI 新开放的 `gpt-3.5-turbo` 模型；通过 `clash` 实现请求转发|
|2023.2.27|0.1.0|更改 `revChatGPT` 使用的接口服务器为官方地址|
|2023.2.26|0.1.0|文本生成引入 [`revChatGPT`](https://github.com/acheong08/ChatGPT)，通过模拟网页版请求的方式使用 ChatGPT|
|2023.2.25|0.1.0|用接口的方式修改公众号菜单|
|2023.2.21|0.1.0|首次上线，文本生成使用 OpenAI 提供的 `text-davinci-003` 模型|